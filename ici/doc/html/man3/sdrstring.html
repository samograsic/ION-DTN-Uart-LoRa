<?xml version="1.0" ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<title>sdrstring - Simple Data Recorder string functions</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link rev="made" href="mailto:root@localhost" />
</head>

<body>



<h1 id="NAME">NAME</h1>

<p>sdrstring - Simple Data Recorder string functions</p>

<h1 id="SYNOPSIS">SYNOPSIS</h1>

<pre><code>#include &quot;sdr.h&quot;

Object sdr_string_create (Sdr sdr, char *from);
Object sdr_string_dup    (Sdr sdr, Object from);
int    sdr_string_length (Sdr sdr, Object string);
int    sdr_string_read   (Sdr sdr, char *into, Object string);</code></pre>

<h1 id="DESCRIPTION">DESCRIPTION</h1>

<p>SDR strings are used to record strings of up to 255 ASCII characters in the heap space of an SDR. Unlike standard C strings, which are terminated by a zero byte, SDR strings record the length of the string as part of the string object.</p>

<p>To store strings longer than 255 characters, use sdr_malloc() and sdr_write() instead of these functions.</p>

<dl>

<dt id="Object-sdr_string_create-Sdr-sdr-char-from">Object sdr_string_create(Sdr sdr, char *from)</dt>
<dd>

<p>Creates a &quot;self-delimited string&quot; in the heap of the indicated SDR, allocating the required space and copying the indicated content. <i>from</i> must be a standard C string for which strlen() must not exceed 255; if it does, or if insufficient SDR space is available, 0 is returned. Otherwise the address of the newly created SDR string object is returned. To destroy, just use sdr_free().</p>

</dd>
<dt id="Object-sdr_string_dup-Sdr-sdr-Object-from">Object sdr_string_dup(Sdr sdr, Object from)</dt>
<dd>

<p>Creates a duplicate of the SDR string whose address is <i>from</i>, allocating the required space and copying the original string&#39;s content. If insufficient SDR space is available, 0 is returned. Otherwise the address of the newly created copy of the original SDR string object is returned. To destroy, use sdr_free().</p>

</dd>
<dt id="int-sdr_string_length-Sdr-sdr-Object-string">int sdr_string_length(Sdr sdr, Object string)</dt>
<dd>

<p>Returns the length of the indicated self-delimited string (as would be returned by strlen()), or -1 on any error.</p>

</dd>
<dt id="int-sdr_string_read-Sdr-sdr-char-into-Object-string">int sdr_string_read(Sdr sdr, char *into, Object string)</dt>
<dd>

<p>Retrieves the content of the indicated self-delimited string into memory as a standard C string (NULL terminated). Length of <i>into</i> should normally be SDRSTRING_BUFSZ (i.e., 256) to allow for the largest possible SDR string (255 characters) plus the terminating NULL. Returns length of string (as would be returned by strlen()), or -1 on any error.</p>

</dd>
</dl>

<h1 id="SEE-ALSO">SEE ALSO</h1>

<p>sdr(3), sdrlist(3), sdrtable(3), string(3)</p>


</body>

</html>


